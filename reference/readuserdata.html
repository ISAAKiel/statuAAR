<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>statuAAR data preparation and check functions — readuserdata • statuAAR</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="statuAAR data preparation and check functions — readuserdata"><meta name="description" content="Human stature estimation is based on various measures of different bones. A multitude of
formula have been developed and provide a wide range of possible results. The quality of
the result depends mainly on the representativity of the original sample of the formula
with respect to the currrent study.  Thus a easy and fast forward calculation according
to various formula can be used for a camparison of the results.
All measures have to be given in millimeters (mm). The measures used are defined by
R. Martin (1928). The labels of the measures of the data aquisition may differ from
those used by statuAAR. Therefore a concordance of labels should be edited.
In addition summarised statistics for each measure across the dataset is provided
to check for data inconsitancy befor calculation.

create.measures.concordance: Creates a data frame with three columns:
short names (e.g. Hum1al), long names (e.g. Humerus.1a.left) and
own to be filled with user defined names.
measures.statistics: Calculates basic descriptive statistics to check
data consitancy.
prep.statuaar.data: Checks the input data: uniqueness of individual
identifyer, accepted values for Sex and accepted measures names.
Provides a data.frame of standardised measurements
for calculation of body stature estimation with four columns:
Ind(ividual), Sex,
variable (mearsure name) and value (measured value).

"><meta property="og:description" content="Human stature estimation is based on various measures of different bones. A multitude of
formula have been developed and provide a wide range of possible results. The quality of
the result depends mainly on the representativity of the original sample of the formula
with respect to the currrent study.  Thus a easy and fast forward calculation according
to various formula can be used for a camparison of the results.
All measures have to be given in millimeters (mm). The measures used are defined by
R. Martin (1928). The labels of the measures of the data aquisition may differ from
those used by statuAAR. Therefore a concordance of labels should be edited.
In addition summarised statistics for each measure across the dataset is provided
to check for data inconsitancy befor calculation.

create.measures.concordance: Creates a data frame with three columns:
short names (e.g. Hum1al), long names (e.g. Humerus.1a.left) and
own to be filled with user defined names.
measures.statistics: Calculates basic descriptive statistics to check
data consitancy.
prep.statuaar.data: Checks the input data: uniqueness of individual
identifyer, accepted values for Sex and accepted measures names.
Provides a data.frame of standardised measurements
for calculation of body stature estimation with four columns:
Ind(ividual), Sex,
variable (mearsure name) and value (measured value).

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">statuAAR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/statuAAR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ISAAKiel/statuAAR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>statuAAR data preparation and check functions</h1>
      <small class="dont-index">Source: <a href="https://github.com/ISAAKiel/statuAAR/blob/master/R/readuserdata.R" class="external-link"><code>R/readuserdata.R</code></a></small>
      <div class="d-none name"><code>readuserdata.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Human stature estimation is based on various measures of different bones. A multitude of
formula have been developed and provide a wide range of possible results. The quality of
the result depends mainly on the representativity of the original sample of the formula
with respect to the currrent study.  Thus a easy and fast forward calculation according
to various formula can be used for a camparison of the results.</p>
<p>All measures have to be given in millimeters (mm). The measures used are defined by
R. Martin (1928). The labels of the measures of the data aquisition may differ from
those used by statuAAR. Therefore a concordance of labels should be edited.</p>
<p>In addition summarised statistics for each measure across the dataset is provided
to check for data inconsitancy befor calculation.</p>
<ul><li><p><code>create.measures.concordance</code>: Creates a data frame with three columns:
<strong>short</strong> names (e.g. Hum1al), <strong>long</strong> names (e.g. Humerus.1a.left) and
<strong>own</strong> to be filled with user defined names.</p></li>
<li><p><code>measures.statistics</code>: Calculates basic descriptive statistics to check
data consitancy.</p></li>
<li><p><code>prep.statuaar.data</code>: Checks the input data: uniqueness of individual
identifyer, accepted values for Sex and accepted measures names.
Provides a data.frame of standardised measurements
for calculation of body stature estimation with four columns:
<strong>Ind</strong>(ividual), <strong>Sex</strong>,
<strong>variable</strong> (mearsure name) and <strong>value</strong> (measured value).</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create.measures.concordance</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">measures.statistics</span><span class="op">(</span><span class="va">dl</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">prep.statuaar.data</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  d.form <span class="op">=</span> <span class="st">"wide"</span>,</span>
<span>  ind <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  sex <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  measures.names <span class="op">=</span> <span class="st">"short"</span>,</span>
<span>  stats <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-dl">dl<a class="anchor" aria-label="anchor" href="#arg-dl"></a></dt>
<dd><p>statuAAR data list as provided by prep.statuaar.data.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A simple data.frame containing the measurements per individual.</p></dd>


<dt id="arg-d-form">d.form<a class="anchor" aria-label="anchor" href="#arg-d-form"></a></dt>
<dd><p>A string defining the data.frame structure.</p><ul><li><p>d.form=<code>wide</code> for a data.frame with individuals (rows) and measurements (columns).</p></li>
<li><p>d.form=<code>long</code>  for a data.frame with one measure per individual in one row.
With only two columns: <code>variable</code>(character, measure name e.g. hum1),
<code>value</code> (numeric, length (mm)), each row represents one individual
with only one measurement and is identified by the row number.</p></li>
</ul></dd>


<dt id="arg-ind">ind<a class="anchor" aria-label="anchor" href="#arg-ind"></a></dt>
<dd><p>A string defining the column with identifiers for each individual.
If ind = NA a column <code>Ind</code> with rownumbers will be added.</p></dd>


<dt id="arg-sex">sex<a class="anchor" aria-label="anchor" href="#arg-sex"></a></dt>
<dd><p>A string defining the column identifying the sex.
If sex = NA a column <code>Sex</code> with <code>indet</code> will be added.</p></dd>


<dt id="arg-measures-names">measures.names<a class="anchor" aria-label="anchor" href="#arg-measures-names"></a></dt>
<dd><p>A string defining the set of predefined or own measure names used.
For <code>own</code> a data.frame <code>measures.concordance</code> for correlation (merge) is needed.</p><ul><li><p>measures=<code>short</code>: Bone (3 letters), measure acc. to Martin (1928),
laterality (1 letter) without any separation
(e.g. Hum1, Hum1l, Hum1r, Hum1a, Hum1al, Hum1ar etc.).</p></li>
<li><p>measures=<code>long</code>: Bone measure acc. to Martin (1928), laterality separated by <code>.</code>
(e.g. Humerus.1, Humerus.1.left, Humerus.1a.left, etc.).</p></li>
<li><p>measures=<code>own</code>: A data.frame <code>measures.concordance</code> with own names to be merged is needed.</p></li>
</ul></dd>


<dt id="arg-stats">stats<a class="anchor" aria-label="anchor" href="#arg-stats"></a></dt>
<dd><p>Output of aggregating statistics of the measures provided. Default = TRUE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with a dataframe for each formula selected.</p>
<ul><li><p><b>Ind</b>:  identifyer for each individual.</p></li>
<li><p><b>Sex</b>: sex of the individual. Accepted values 1 (male), 2 (female), 3 (indet) or <code>m</code>(ale), <code>f</code>(emale), <code>indet</code>.</p></li>
<li><p><b>variable</b>:  short name of the measure</p></li>
<li><p><b>value</b>: measured value.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Martin R (1928).
<em>Lehrbuch der Anthropologie in systematischer Darstellung. Mit besonderer Berücksichtigung der anthropologischen Methoden. Band 2: Kraniologie, Osteologie.</em>, 2. edition.
G. Fischer, Jena.
<a href="http://digital.zbmed.de/physische_anthropologie/content/titleinfo/555255" class="external-link">http://digital.zbmed.de/physische_anthropologie/content/titleinfo/555255</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Christoph Rinne <a href="mailto:crinne@ufg.uni-kiel.de">crinne@ufg.uni-kiel.de</a></p>
<p>Hendrik Raese <a href="mailto:h.raese@ufg.uni-kiel.de">h.raese@ufg.uni-kiel.de</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Read example dataset into a data frame</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Read example dataset into a data frame</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">TrotterGleser1952</span></span></span>
<span class="r-in"><span><span class="co"># If not yet existent create a list of measure names to be used</span></span></span>
<span class="r-in"><span><span class="co"># measures.concordance &lt;- create.measures.concordance()</span></span></span>
<span class="r-in"><span><span class="co"># Edit the measures.concordance (not needed for this dataset)</span></span></span>
<span class="r-in"><span><span class="co"># measures.concordance$own[measures.concordance$short=="Fem1"]&lt;-"Fem"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get a dataframe with measures to process</span></span></span>
<span class="r-in"><span><span class="va">dl.trotter.gleser</span> <span class="op">&lt;-</span> <span class="fu">prep.statuaar.data</span><span class="op">(</span><span class="va">x</span>, d.form <span class="op">=</span> <span class="st">"wide"</span>,</span></span>
<span class="r-in"><span>   ind <span class="op">=</span> <span class="st">"Appendix_row"</span>, sex <span class="op">=</span> <span class="st">"Sex"</span>, measures.names <span class="op">=</span> <span class="st">"own"</span>, stats <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># See basic statistics to check for errors</span></span></span>
<span class="r-in"><span><span class="fu">measures.statistics</span><span class="op">(</span><span class="va">dl.trotter.gleser</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 5 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   measure     n  MinM Quart1 MedianM MeanM Quart3  MaxM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> Fem1      184   348    414     464   465    514   605</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> Hum1      184   244    291     328   328    364   417</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> Rad1      184   165    217     248   250    282   340</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span> Tib1      184   271    328     374   375    418   511</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span> Uln1      184   193    235     266   268    298   364</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># For the data from Rollet 1888</span></span></span>
<span class="r-in"><span><span class="va">rollet1888</span> <span class="op">&lt;-</span> <span class="va">Rollet1888</span></span></span>
<span class="r-in"><span><span class="co"># 1. Create an identifyer due to identical numbering of females and males</span></span></span>
<span class="r-in"><span><span class="va">rollet1888</span><span class="op">$</span><span class="va">id</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">rollet1888</span><span class="op">$</span><span class="va">Sex</span>, <span class="va">rollet1888</span><span class="op">$</span><span class="va">Nr</span>, sep<span class="op">=</span><span class="st">"_"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># 2. Fill in the mesasures names in the column "own" of the measures.concordance</span></span></span>
<span class="r-in"><span><span class="va">measures.concordance</span> <span class="op">&lt;-</span> <span class="va">measures.concordance.rollet1888</span></span></span>
<span class="r-in"><span><span class="co"># 3. Read the data</span></span></span>
<span class="r-in"><span><span class="va">dl.rollet1888</span> <span class="op">&lt;-</span> <span class="fu">prep.statuaar.data</span><span class="op">(</span><span class="va">rollet1888</span>, d.form <span class="op">=</span> <span class="st">"wide"</span>,</span></span>
<span class="r-in"><span>      ind<span class="op">=</span><span class="st">"id"</span>, sex <span class="op">=</span> <span class="st">"Sex"</span>, measures.names <span class="op">=</span> <span class="st">"own"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 1 × 8</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   measure     n  MinM Quart1 MedianM MeanM Quart3  MaxM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> <span style="color: #BB0000;">NA</span>          0    <span style="color: #BB0000;">NA</span>     <span style="color: #BB0000;">NA</span>      <span style="color: #BB0000;">NA</span>   <span style="color: #BB0000;">NaN</span>     <span style="color: #BB0000;">NA</span>    <span style="color: #BB0000;">NA</span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christoph Rinne, Nils Mueller-Scheessel, Hendrik Raese.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

